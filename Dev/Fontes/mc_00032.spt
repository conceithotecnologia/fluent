/*==================================================================================================================================
| Empresa..: MultCont Informрtica                                                                                                  |
| -------------------------------------------------------------------------------------------------------------------------------- |
| Autor....: Ricardo Gonуalves                                                                                                     |
| -------------------------------------------------------------------------------------------------------------------------------- |
| Data.....: 09/09/2003 22:43:55                                                                                                   |
| -------------------------------------------------------------------------------------------------------------------------------- |
| Tipo.....: Stored Procedure                                                                                                      |
| -------------------------------------------------------------------------------------------------------------------------------- |
| Descriусo: Disparado apзs criaусo de OP                                                                                          |
| -------------------------------------------------------------------------------------------------------------------------------- |
| Parametros                                                                                                                       |
|  [Entrada]ииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииии |
|   [Saida ]ииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииии |
==================================================================================================================================*/
Create or Replace Function mc_00032####???
() Returns trigger 
AS $$
Declare
   CurSBC  RefCursor;
   vbc_comp [(sbc)].sbc_comp%type;
   fbc_qtd  [(sbc)].sbc_qtd%type;
Begin

   -- Alimenta estrutura da ordem de produусo atual
   Open CurSBC For
      Select sbc_comp, sbc_qtd
        From [(sbc)]
       Where b1_codpro = new.b1_codpro;

   Fetch CurSBC Into vbc_comp, fbc_qtd;

   While Found Loop
      Insert Into [(sax)] (aw_op,     aw_seq,     b1_codpro, ax_qtd)
           Values         (new.aw_op, new.aw_seq, vbc_comp,  fbc_qtd );

      Fetch CurSBC Into vbc_comp, fbc_qtd;
   End Loop;

   Close CurSBC;

   Return Null;
End;
$$ LANGUAGE plpgsql;
