/**
   Recalcula saldos do kardex por local

	@author    Ricardo Gonçalves
	@date      31/01/2013 00:38
	@trigger   
   
   @param in_pessoa pessoa detentora do material
   @param in_tipomov ficha que deverá ser reprocessada
   @param in_prod código do produto   
   @param in_data data inicial para recalculo   

	Histórico
	---------------------------------------------------------------------------------------------------------------------
   Legenda: [-] - Correção / [*] - Recurso modificado/melhorado / [+] - Implementação de recurso
   
   02/04/2013 - Ricardo Gonçalves - [+] Cálculo do custo unitário e do custo total do saldo
   24/03/2014 - Ricardo Gonçalves - [+] Processamento de notas de entrada emitidas pela própria empresa      
   13/07/2014 - Ricardo Gonçalves - [+] Remoção do processamento do arquivos por lote / endereço / local
   02/06/2015 - Ricardo Gonçalves - [+] Inclusão do tipo de movimento como parâmetro de entrada
   24/04/2018 - Ricardo Gonçalves - [*] Inversão na ordem dos parâmetros in_prod e in_tipomov
*/
Create or Replace Function mc_00018####???
(  in in_pessoa integer,
   in in_prod varchar,
   in in_tipomov integer,   
   in in_data date)
returns integer
As $$
Begin       
   -- Gera parâmetro de sessão. Não criticar estoque no reprocessamento;
   perform sys_00012####???('est_criticar', 'true');
   return mc_00872####???(in_pessoa, in_prod, in_tipomov, in_data); -- Reprocessa Kardex   
End;
$$ language plpgsql;