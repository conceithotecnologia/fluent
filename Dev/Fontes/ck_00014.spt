/**
   Validação do endereço de email

	@author    Ricardo Gonçalves
	@date      28/07/2015 18:38
	@trigger
	
   @param in_email endereço de email que será validado   
  
   @return 0 - inválido / 1 - válido

	Histórico
	---------------------------------------------------------------------------------------------------------------------
   Legenda: [-] - Correção / [*] - Recurso modificado/melhorado / [+] - Implementação de recurso
*/
Create or Replace Function ck_00014(
   in in_email varchar(100))   
Returns integer
As
$$
BEGIN
   if in_email ~ '^[a-zA-Z0-9][a-zA-Z0-9\._-]+@([a-zA-Z0-9\._-]+\.)[a-zA-Z0-9]{2}' then
      return 1;
   end if;
   
   Return 0;
END
$$
language 'plpgsql';
