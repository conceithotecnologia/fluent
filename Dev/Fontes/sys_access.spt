/**
   Checa se o usuário tem acesso a um determinado recurso

	@author    Ricardo Gonçalves
	@date      04/07/2009 14:38:06
	@trigger

   @param   in_perm_id  Permissão a ser checada

   @return  Retorna 1 em caso de suscesso, isto é, quando o usuário tem permissão de acesso ao
            recurso e 0 caso contrário

	Histórico
	---------------------------------------------------------------------------------------------------------------------
	22/04/2010 21:14:31 v1.2  Ricardo Gonçalves
	  [*] Inclusão do código do sistema na chave busca das permissões por papel

	19/05/2010 11:29:26 v1.3  Ricardo Gonçalves
	  [*] Código checagem da permissão transferido para rotina sys_ckaccess
    
   07/11/2012 15:41:00  v2    Ricardo Gonçalves
      [-] Tipo da varável r27 inválido
*/
Create or Replace Function sys_access####???(
   in in_perm_id varchar(25))
Returns integer
As
$$
Declare
   r27   record;
Begin
   -- Recuper informações da sessão
   select codsis, role_id
     into r27
     from [(ss027)]
    where session = sys_session();
    
   return sys_ckaccess####???(r27.codsis, r27.role_id, in_perm_id);
End;
$$
language plpgsql;