/* ==============================================================================================
   Empresa: MultCont Informática
   Autor..: Ricardo Gonçalves
   Data...: 27/04/2005 18:59:06
   ----------------------------------------------------------------------------------------------
   Rotina.: sys_pos() - procura um substring em um string
   ----------------------------------------------------------------------------------------------
   Sintaxe: sys_pos(<varchar>, <varchar>)
   ----------------------------------------------------------------------------------------------
   Params.: <varchar> - substring - texto procurado
            <varchar> - string - texto no qual será realizado a pesquisa
   ----------------------------------------------------------------------------------------------
   Retorno: posição do primeiro caractere da substring encontado na string
   ----------------------------------------------------------------------------------------------
   Descri.:
   ============================================================================================== */
Create or Replace Function sys_pos(varchar, varchar)
Returns integer
As '
Declare
-- {Parametros de entrada}
   in_subs           alias for $1;
   in_string         alias for $2;
-- {Parametros de saída}
-- {Variáveis para cursores}
-- {Variáveis de uso interno}
Begin
   Return position(in_subs in in_string);
End;
' language 'plpgsql';
