/*==================================================================================================================================
| Empresa..: MultCont Informрtica                                                                                                  |
| -------------------------------------------------------------------------------------------------------------------------------- |
| Autor....: Wagner Mobile Costa                                                                                                   |
| -------------------------------------------------------------------------------------------------------------------------------- |
| Data.....: 14/01/2006 17:35:00                                                                                                   |
| -------------------------------------------------------------------------------------------------------------------------------- |
| Descriусo: Aplica mascara de formataусo sobre um nЩmero para retorno de uma string                                               |
| -------------------------------------------------------------------------------------------------------------------------------- |
| Parametros                                                                                                                       |
|  [Entrada]ииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииии |
|            IN_NUMERO: Numero                                                                                                     |
|            IN_MASK: Mascara                                                                                                      |
|   [Saida ]ииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииии |
|            OUT_RESULT: Numero com zeros a esquerda                                                                               |
==================================================================================================================================*/
Create or Replace Function sys_to_char
(  in in_number numeric,
   in in_mask   varchar,
  out xText varchar
)
as $$
Begin
   xText:= to_char(in_number, in_mask);
   xText:= replace(xText, ',', '#');
   xText:= replace(xText, '.', '$');
   xText:= replace(xText, '#', '.');
   xText:= trim(replace(xText, '$', ','));
End;
$$
language plpgsql;