/*============================================================================
  Empresa..: MultCont Informática
  Descrição: Preenche código do produto baseado no lote
  Autor....: Ricardo Gonçalves
  Data.....: 07/05/2008 08:39:09

  Parametro       Descrição
  ---------------------------------------------------------------------------
  out_res         inteiro
  ============================================================================*/
Create or Replace Function scr_00020_seo####???()
Returns integer
As
$$
Declare
   vb1_codpro        [(sb1)].b1_codpro%type;
   isd3_lote         [(sd3)].sd3_lote%type;
Begin
   -- Preenche código do produto
   vb1_codpro:= null;
   isd3_lote:= sys_042integer####???('sd3_lote'); -- Obtem o código do produto

   select b1_codpro
     into vb1_codpro
     from [(sd3)]
    where sd3_lote = isd3_lote;

   update [(ss042)]
      set string_ = vb1_codpro
    where session = sys_session()
      and Columnname = 'b1_codpro';

   Return 1;
End
$$
language plpgsql;
