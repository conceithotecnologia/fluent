/**
   Pré-tratamento de lançamento no kardex por lote e endereçamento

	@author    Ricardo Gonçalves
	@date      26/03/2018
	@trigger   E26 B IUD

	Histórico
	---------------------------------------------------------------------------------------------------------------------
   Legenda: [-] - Correção / [*] - Recurso modificado/melhorado / [+] - Implementação de recurso
*/
CREATE OR REPLACE FUNCTION mc_00863####???()
RETURNS trigger AS
$$
BEGIN   
   -- Tratamento de eventos de inventário e fechamento   
   if tg_op = 'INSERT' and new.e26_evento in (-1,1) then
      new.e26_saldo_u1 := new.e26_qtd_u1;      
      new.e26_saldo_u2 := new.e26_qtd_u2;
      
      new.e26_qtd_u1 := 0;      
      new.e26_qtd_u2 := 0;      
   end if;
   
   return new;   
END;
$$
LANGUAGE 'plpgsql' VOLATILE;