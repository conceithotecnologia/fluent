/**
   CRM - Atualiza inventário de hardware / software a partir de um nó

	@author    Ricardo Gonçalves
	@date      04/09/2013
	@trigger   
   
   @param in_no Recno do objeto pai no inventário de hardware/software

	Histórico
	---------------------------------------------------------------------------------------------------------------------
   Legenda: [-] - Correção / [*] - Recurso modificado/melhorado / [+] - Implementação de recurso
*/
CREATE OR REPLACE FUNCTION mc_00596####???(
   in in_no integer)
  RETURNS integer AS
$$
Declare
   r  record;
BEGIN
   for r in (
      select recno 
        from [(a3a)]
       where a3a_recno = in_no)
   Loop
      update [(a3a)] 
         set recno = recno 
       where recno = r.recno;
      
      -- Atualiza filhos do nó atual
      perform mc_00596####???(r.recno);      
   end loop;
   
   return 1;
END;
$$
  LANGUAGE 'plpgsql' VOLATILE;