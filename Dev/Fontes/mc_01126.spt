/**
   Reprocessamento kardex por endereçamento

	@author    Ricardo Gonçalves
	@date      26/03/2018
	@trigger   
   
   @param in_ender Endereço que será reprocessado.
   @param in_prod código do produto. Caso esse parâmetro seja informado com nulo o sistema reprocessará todos os itens 
      do kardex.
   @param in_data data inicial para recalculo

	Histórico
	---------------------------------------------------------------------------------------------------------------------
   Legenda: [-] - Correção / [*] - Recurso modificado/melhorado / [+] - Implementação de recurso
*/
Create or Replace Function mc_01126####???(   
   in in_data date,   
   in in_codpro varchar,
   in in_ender varchar)
returns integer As 
$$
Begin
   -- Gera parâmetro de sessão. Não criticar estoque no reprocessamento;
   perform sys_00012####???('est_criticar', 'false');
   
   -- Reprocessamento de movimentos com atualização do saldo atual
   perform mc_01161####???(in_codpro, in_ender, in_data, true);
   -- Valor padrão
   perform sys_00012####???('est_criticar', 'true');
   
   return 1;
End;
$$ language plpgsql;