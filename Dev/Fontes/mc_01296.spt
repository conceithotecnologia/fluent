/*==================================================================================================================================
  Rotina...: mc_01296
  --------------------------------------------------------------------------------------------------------------------------------
  Descriусo: Trigger Tabela SAK (Contas Correntes)
  --------------------------------------------------------------------------------------------------------------------------------
  Tipo.....: Trigger - Before
  --------------------------------------------------------------------------------------------------------------------------------
  Empresa..: Conceitho Tecnologia
  --------------------------------------------------------------------------------------------------------------------------------
  Autor....: Fabio Carvalho
  --------------------------------------------------------------------------------------------------------------------------------
  Data.....: 10/06/2020
  --------------------------------------------------------------------------------------------------------------------------------
  Parametros
   [Entrada]ииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииии
   [Saida ]иииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииии
==================================================================================================================================*/
Create or Replace Function mc_01296####???() 
Returns trigger
AS $$
Declare
Begin
   If tg_op = 'DELETE' Then
      return old;
   End If;

   --Devido Erro Fluent.exe, Testar se ultimo caracter do diretorio ж barra
   if length(new.ak_pasta_rem) > 0 and
      right(new.ak_pasta_rem,1) <>  '\' then
      new.ak_pasta_rem := new.ak_pasta_rem || '\';
   end if;

   if length(new.ak_pasta_ret) > 0 and
      right(new.ak_pasta_ret,1) <>  '\' then
      new.ak_pasta_ret := new.ak_pasta_ret || '\';
   end if;

   if length(new.sak_cp_dir_rem) > 0 and
      right(new.sak_cp_dir_rem,1) <>  '\' then
      new.sak_cp_dir_rem := new.sak_cp_dir_rem || '\';
   end if;

   if length(new.sak_cp_dir_ret) > 0 and
      right(new.sak_cp_dir_ret,1) <>  '\' then
      new.sak_cp_dir_ret := new.sak_cp_dir_ret || '\';
   end if;

   Return new;
End;
$$ language plpgsql;