/*==================================================================================================================================
  Rotina...: <l> mc_00603 </l>
  --------------------------------------------------------------------------------------------------------------------------------
  Descriусo: <d> Grava Arquivo de Configuraусo Financeira </d>
  --------------------------------------------------------------------------------------------------------------------------------
  Tipo.....: <t> Stored Procedure </t>
  --------------------------------------------------------------------------------------------------------------------------------
  Empresa..: MultCont Informрtica
  --------------------------------------------------------------------------------------------------------------------------------
  Autor....: Jurandy da Silva Costa
  --------------------------------------------------------------------------------------------------------------------------------
  Data.....: 19/02/2004 11:30:00
  --------------------------------------------------------------------------------------------------------------------------------
  Parametros
   [Entrada]ииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииии
   [Saida ]иииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииии
==================================================================================================================================*/
Create or Replace Function mc_00603####???
() Returns trigger
As $$
Declare
-- {Variрveis de uso interno}
   iRecno         [(fcc)].recno%type;           -- NЩmero do Registro

Begin
   -- Grava o proprio registro no caso de lanуamento manual
   If tg_op = 'INSERT' Then
      -- Verifica se jр existe Configuraусo Financeira para esta Filial da Empresa
      Select recno Into iRecno
        From [(fcc)];
      -- Avisa o usuрrio caso jр exista ou grava Empresa e Filial quando nсo existe
      If iRecno Is Not Null Then
         raise '[[Atenусo. Jр existe Configuraусo Financeira para esta Filial da Empresa.]]';
      End If;
      Return new;
   ElsIf tg_op = 'DELETE' Then
      raise '[[Atenусo. Nсo ж permitido Excluir a Configuraусo Financeira.]]';
      return old;
   End If;
End;
$$ language plpgsql;